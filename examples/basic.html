<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Basic Rich Text Editor - ProseMirror OutSystems</title>
  <link rel="stylesheet" href="../dist/prosemirror-outsystems.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
    }
    h1 {
      margin-bottom: 30px;
    }
    .editor-wrapper {
      margin: 20px 0;
    }
    .controls {
      margin: 20px 0;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    button {
      padding: 8px 16px;
      background: #0066cc;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover {
      background: #0052a3;
    }
    .output {
      margin-top: 30px;
      padding: 15px;
      background: #f5f5f5;
      border-radius: 4px;
    }
    .output h3 {
      margin-top: 0;
    }
    pre {
      background: #fff;
      padding: 10px;
      border-radius: 4px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <h1>Basic Rich Text Editor</h1>
  
  <div class="editor-wrapper">
    <div id="editor"></div>
  </div>

  <div class="controls">
    <button onclick="getContent()">Get Content (JSON)</button>
    <button onclick="getHTML()">Get HTML</button>
    <button onclick="clearEditor()">Clear</button>
    <button onclick="toggleEditable()">Toggle Editable</button>
    <button onclick="focusEditor()">Focus</button>
  </div>

  <div class="output">
    <h3>Output:</h3>
    <pre id="output">Content will appear here...</pre>
  </div>

  <script src="../dist/prosemirror-outsystems.js"></script>
  <script>
    // Create editor instance
    const editor = ProseMirrorOS.create('#editor', {
      placeholder: 'Start writing something amazing...',
      content: '<p>Hello! This is a <strong>basic rich text editor</strong>.</p><p>Try <em>formatting</em> text or pressing <strong>Ctrl+Z</strong> to undo.</p>',
      onChange: (content) => {
        console.log('Content changed:', content);
      }
    });

    // Control functions
    function getContent() {
      const content = editor.getContent();
      document.getElementById('output').textContent = JSON.stringify(content, null, 2);
    }

    function getHTML() {
      const html = editor.getHTML();
      document.getElementById('output').textContent = html;
    }

    function clearEditor() {
      editor.clear();
      document.getElementById('output').textContent = 'Editor cleared!';
    }

    function toggleEditable() {
      const isEditable = editor.isEditable();
      editor.setEditable(!isEditable);
      document.getElementById('output').textContent = `Editor is now ${!isEditable ? 'editable' : 'read-only'}`;
    }

    function focusEditor() {
      editor.focus();
      document.getElementById('output').textContent = 'Editor focused!';
    }
  </script>
</body>
</html>